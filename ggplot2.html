<!DOCTYPE html>
<html>
  <head>
    <title>Visualisation with ggplot2</title>
    <meta charset="utf-8">
    <meta name="author" content="Florian Privé" />
    <meta name="date" content="2017-10-19" />
    <link href="libs/remark-css/example.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/plotly-binding/plotly.js"></script>
    <script src="libs/typedarray/typedarray.min.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/plotlyjs/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotlyjs/plotly-latest.min.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Visualisation with ggplot2
## <a href="https://privefl.github.io/R-presentation/ggplot2.html" class="uri">https://privefl.github.io/R-presentation/ggplot2.html</a>
### Florian Privé
### October 19, 2017

---




class: center, top, inverse
background-image: url(http://hexb.in/vector/ggplot2.svg)
background-position: 50% 80%
background-size: 40%

# http://ggplot2.tidyverse.org/

---

class: center, middle, inverse

&gt; "The simple graph has brought more information to the data analyst’s mind than any other device." --- John Tukey

---

class: center, middle, inverse

# Introduction

---

## What does *ggplot2* stand for?

--

### A __Grammar of Graphics__!

--

```
ggplot(data = &lt;DATA&gt;) + 
  &lt;GEOM_FUNCTION&gt;(
     mapping = aes(&lt;MAPPINGS&gt;),
     stat = &lt;STAT&gt;, 
     position = &lt;POSITION&gt;
  ) +
  &lt;COORDINATE_FUNCTION&gt; +
  &lt;FACET_FUNCTION&gt;
```

--

&lt;/br&gt;

#### You can uniquely describe any plot as a combination of these 7 parameters.

---

## How long have you known **ggplot2**?

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

--

&lt;blockquote class="twitter-tweet" data-lang="en" align="center"&gt;&lt;p lang="en" dir="ltr"&gt;Happy 10th birthday ggplot2! 🎉🎂📊📈10 years ago today the first version was accepted to CRAN: &lt;a href="https://t.co/tiXIkqnCcA"&gt;https://t.co/tiXIkqnCcA&lt;/a&gt;&lt;/p&gt;&amp;mdash; Hadley Wickham (@hadleywickham) &lt;a href="https://twitter.com/hadleywickham/status/873556949207535616"&gt;10 juin 2017&lt;/a&gt;&lt;/blockquote&gt;

---

## Why use ggplot2?

&lt;/br&gt;

- Automatic legends, colors, etc.

- Easy superposition, facetting, etc.

- Nice rendering (yet, I don't like the default grey theme).

- **Store any ggplot2 object for modification or future recall.** Super useful for packages.

- Lots of users (less bugs, much help on Stack Overflow).

- Lots of extensions.

- Nice saving option.

---

class: center, middle, inverse

# Tidy data?

---

## Untidy data




```r
fertilityData
```

```
## # A tibble: 12 x 7
##                Country `1800` `1801` `1802` `1803` `1804` `1805`
##                 &lt;fctr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1         Afghanistan   7.00   7.00   7.00   7.00   7.00   7.00
##  2             Albania   4.60   4.60   4.60   4.60   4.60   4.60
##  3             Algeria   6.99   6.99   6.99   6.99   6.99   6.99
##  4              Angola   6.93   6.93   6.93   6.93   6.93   6.93
##  5 Antigua and Barbuda   5.00   5.00   4.99   4.99   4.99   4.98
##  6           Argentina   6.80   6.80   6.80   6.80   6.80   6.80
##  7             Armenia   7.80   7.80   7.81   7.81   7.81   7.82
##  8               Aruba   5.64   5.64   5.64   5.64   5.64   5.64
##  9           Australia   6.50   6.48   6.46   6.44   6.42   6.40
## 10             Austria   5.10   5.10   5.10   5.10   5.10   5.10
## 11          Azerbaijan   8.10   8.10   8.10   8.10   8.10   8.10
## 12             Bahamas   5.90   5.90   5.90   5.90   5.90   5.90
```


#### How would you plot this data?

---

## Tidy data

&lt;img src="http://r4ds.had.co.nz/images/tidy-1.png" style="display: block; margin: auto;" /&gt;

It is easier to work and reason with

- operations

- manipulation

- visualization

&lt;br&gt;

Learn more at http://tidyr.tidyverse.org/articles/tidy-data.html.

---

### Tidy the previous data


```r
library(tidyverse)
```


```r
(fertilityDataTidy &lt;- fertilityData %&gt;%
   gather(key = "Year", value = "Fertility", -Country))
```

```
## # A tibble: 72 x 3
##                Country  Year Fertility
##                 &lt;fctr&gt; &lt;chr&gt;     &lt;dbl&gt;
##  1         Afghanistan  1800      7.00
##  2             Albania  1800      4.60
##  3             Algeria  1800      6.99
##  4              Angola  1800      6.93
##  5 Antigua and Barbuda  1800      5.00
##  6           Argentina  1800      6.80
##  7             Armenia  1800      7.80
##  8               Aruba  1800      5.64
##  9           Australia  1800      6.50
## 10             Austria  1800      5.10
## # ... with 62 more rows
```

---

### This is easier to plot


```r
ggplot(data = fertilityDataTidy) + 
  geom_point(mapping = aes(x = Year, y = Fertility))
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-6-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

class: center, middle, inverse

# Basics &amp; Customization

---

### My custom theme: black and white and larger fonts


```r
bigstatsr:::MY_THEME
```

```
## function (p, coeff = 1) 
## {
##     p + theme_bw() + theme(plot.title = element_text(size = rel(2 * 
##         coeff), hjust = 0.5), plot.subtitle = element_text(size = rel(1.5 * 
##         coeff), hjust = 0.5), legend.title = element_text(size = rel(1.8 * 
##         coeff)), legend.text = element_text(size = rel(1.3 * 
##         coeff)), axis.title = element_text(size = rel(1.5 * coeff)), 
##         axis.text = element_text(size = rel(1.2 * coeff)), legend.key.height = unit(1.3 * 
##             coeff, "line"), legend.key.width = unit(1.3 * coeff, 
##             "line"))
## }
## &lt;bytecode: 0x69f1c08&gt;
## &lt;environment: namespace:bigstatsr&gt;
```

***


```r
myggplot &lt;- function(..., coeff = 1) {
  bigstatsr:::MY_THEME(ggplot(...), coeff = 1.2 * coeff)
} 
```

---

### Black and white and larger fonts


```r
myggplot(data = fertilityDataTidy) + 
  geom_point(mapping = aes(x = Year, y = Fertility))
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-9-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

## Add colors


```r
myggplot(data = fertilityDataTidy) + 
  geom_point(mapping = aes(Year, Fertility, color = Country))
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-10-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

### Add lines: move 'aes' to the top (1/2)


```r
myggplot(fertilityDataTidy, aes(Year, Fertility, color = Country)) + 
  geom_point() +
  geom_line()
```

```
## geom_path: Each group consists of only one observation. Do you need to
## adjust the group aesthetic?
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-11-1.svg" width="70%" style="display: block; margin: auto;" /&gt;

---

### Add lines: add a group (2/2)


```r
myggplot(fertilityDataTidy, aes(Year, Fertility, color = Country)) + 
  geom_point() +
  geom_line(aes(group = Country))
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-12-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

### Larger points and lines


```r
myggplot(fertilityDataTidy, aes(Year, Fertility, color = Country)) + 
  geom_point(cex = 4) +
  geom_line(aes(group = Country), lwd = 2)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-13-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

### Futher customization: themes


```r
myggplot(fertilityDataTidy, aes(Year, Fertility, color = Country)) + 
  geom_point(cex = 4) +
  geom_line(aes(group = Country), lwd = 2) +
  theme(aspect.ratio = 0.8, 
        legend.key.width = unit(3, "line"))
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-14-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

## Layers: example with geom_smooth()


```r
myggplot(iris) + 
  geom_point(aes(Petal.Length, Petal.Width, 
                 color = Species, pch = Species), cex = 2)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-15-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

### Geom_smooth on all: move x and y on top


```r
myggplot(iris, aes(Petal.Length, Petal.Width)) + 
  geom_point(aes(color = Species, pch = Species), cex = 2) + 
  geom_smooth(color = "black")
```

```
## `geom_smooth()` using method = 'loess' and formula 'y ~ x'
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-16-1.svg" width="75%" style="display: block; margin: auto;" /&gt;

---

### Points on top: change the order of layers


```r
myggplot(iris, aes(Petal.Length, Petal.Width)) + 
  geom_smooth(color = "black") + 
  geom_point(aes(color = Species, pch = Species), cex = 2)
```

```
## `geom_smooth()` using method = 'loess' and formula 'y ~ x'
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-17-1.svg" width="75%" style="display: block; margin: auto;" /&gt;

---

### Geom_smooth inherits from top aesthetics


```r
myggplot(iris, aes(Petal.Length, Petal.Width, color = Species)) + 
  geom_smooth() + 
  geom_point(aes(pch = Species), cex = 2)
```

```
## `geom_smooth()` using method = 'loess' and formula 'y ~ x'
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-18-1.svg" width="75%" style="display: block; margin: auto;" /&gt;

---

### Or just add a group


```r
myggplot(iris, aes(Petal.Length, Petal.Width)) + 
  geom_smooth(aes(group = Species), color = "black") + 
  geom_point(aes(color = Species, pch = Species), cex = 2)
```

```
## `geom_smooth()` using method = 'loess' and formula 'y ~ x'
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-19-1.svg" width="75%" style="display: block; margin: auto;" /&gt;

---

## An important application

### Simpson's Paradox

&lt;br&gt;

&lt;img src="https://paulvanderlaken.files.wordpress.com/2017/09/simpsonsparadox.png?w=1080" style="display: block; margin: auto;" /&gt;

.footnote[Source: https://goo.gl/GycYod]

---

## Learn more

- [Chapter *Data Visualisation*](http://r4ds.had.co.nz/data-visualisation.html) of 

&lt;img src="http://r4ds.had.co.nz/cover.png" width="35%" style="display: block; margin: auto;" /&gt;

.footnote[Freely available online.]

---

## Find answers

### [Stack Overflow questions with tag `[ggplot2]`](https://stackoverflow.com/questions/tagged/ggplot2)

&lt;blockquote class="twitter-tweet" data-lang="en" align="center"&gt;&lt;p lang="en" dir="ltr"&gt;ok, hands up... when looking up code errors/questions with the intent of finding answers on Stack Overflow, do you:&lt;/p&gt;&amp;mdash; Sharla Gelfand (@sharlagelfand) &lt;a href="https://twitter.com/sharlagelfand/status/915654253456318464?ref_src=twsrc%5Etfw"&gt;4 octobre 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

&lt;br&gt;&lt;center&gt;e.g. google "larger points legend ggplot2"

---

## Using the Stack Overflow answer


```r
myggplot(iris) + 
  geom_point(aes(Petal.Length, Petal.Width, 
                 color = Species, pch = Species), cex = 2) +
  guides(colour = guide_legend(override.aes = list(size = 10)))
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-22-1.svg" width="75%" style="display: block; margin: auto;" /&gt;

---

## Go check the [**R Graph Gallery**](http://www.r-graph-gallery.com/portfolio/ggplot2-package/)

&lt;br&gt;

&lt;br&gt;

&lt;br&gt;

&lt;blockquote class="twitter-tweet" data-cards="hidden" data-lang="en" align="center"&gt;&lt;p lang="en" dir="ltr"&gt;🍾🍾 Today the &lt;a href="https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#rstats&lt;/a&gt; graph gallery reached 1.000.000 visits! 🍾🍾 Thanks to all users &amp;amp; contributors!&lt;a href="https://t.co/94JzuHDJot"&gt;https://t.co/94JzuHDJot&lt;/a&gt; &lt;a href="https://t.co/xu4XIsqmut"&gt;pic.twitter.com/xu4XIsqmut&lt;/a&gt;&lt;/p&gt;&amp;mdash; The R Graph Gallery (@R_Graph_Gallery) &lt;a href="https://twitter.com/R_Graph_Gallery/status/915092693977460741?ref_src=twsrc%5Etfw"&gt;3 octobre 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

class: center, middle, inverse

# More

---

### Facets


```r
(res.df &lt;- readRDS("results.rds"))
```

```
## # A tibble: 3,750 x 7
##    NbTruePos NbTopHits NbOfGen    Dp Method Power TimeSinceAdmixture
##        &lt;int&gt;     &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;fctr&gt; &lt;dbl&gt;              &lt;chr&gt;
##  1         7         1      10  0.05   EILA 0.028   Recent admixture
##  2        10         2      10  0.05   EILA 0.040   Recent admixture
##  3        17         3      10  0.05   EILA 0.068   Recent admixture
##  4        29         4      10  0.05   EILA 0.116   Recent admixture
##  5        38         5      10  0.05   EILA 0.152   Recent admixture
##  6        49         6      10  0.05   EILA 0.196   Recent admixture
##  7        57         7      10  0.05   EILA 0.228   Recent admixture
##  8        65         8      10  0.05   EILA 0.260   Recent admixture
##  9        73         9      10  0.05   EILA 0.292   Recent admixture
## 10        79        10      10  0.05   EILA 0.316   Recent admixture
## # ... with 3,740 more rows
```

---


```r
myggplot(subset(res.df, Dp %in% c(0.05, 0.1)),
         aes(NbTopHits, Power, color = Method), coeff = 0.8) +
  geom_line() +
  facet_grid(Dp ~ TimeSinceAdmixture) +
  xlab("Number of top hits") + 
  theme(strip.text.y = element_text(size = rel(2)))
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-24-1.svg" width="100%" style="display: block; margin: auto;" /&gt;

---

## Combine plots with [cowplot](https://cran.r-project.org/web/packages/cowplot/vignettes/introduction.html)


```r
p1 &lt;- myggplot(iris, aes(Petal.Length, Petal.Width, 
                 color = Species, pch = Species), coeff = 0.6) + 
  geom_point(cex = 2)

p2 &lt;- myggplot(iris, aes(Sepal.Length, Sepal.Width, 
                 color = Species, pch = Species), coeff = 0.6) + 
  geom_point(cex = 2)
cowplot::plot_grid(p1, p2, align = "h", ncol = 2, 
                   labels = c("A", "B"), label_size = 15)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-25-1.svg" width="95%" style="display: block; margin: auto;" /&gt;

---

## Interactive plots


```r
myggplot(iris, aes(Petal.Length, Petal.Width, 
                   color = Species, pch = Species)) + 
  geom_point(cex = 2)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-26-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

## Transform ggplot to plotly


```r
plotly::ggplotly(width = 700, height = 450)
```

<div id="285d2109b4fe" style="width:700px;height:450px;" class="plotly html-widget"></div>
<script type="application/json" data-for="285d2109b4fe">{"x":{"data":[{"x":[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.3,1.4,1.3,1.5,1.3,1.3,1.3,1.6,1.9,1.4,1.6,1.4,1.5,1.4],"y":[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.2,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.2,0.1,0.2,0.2,0.3,0.3,0.2,0.6,0.4,0.3,0.2,0.2,0.2,0.2],"text":["Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.3<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.7<br />Petal.Width: 0.4<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.3<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.1<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.6<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.1<br />Species: setosa<br />Species: setosa","Petal.Length: 1.1<br />Petal.Width: 0.1<br />Species: setosa<br />Species: setosa","Petal.Length: 1.2<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.4<br />Species: setosa<br />Species: setosa","Petal.Length: 1.3<br />Petal.Width: 0.4<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.3<br />Species: setosa<br />Species: setosa","Petal.Length: 1.7<br />Petal.Width: 0.3<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.3<br />Species: setosa<br />Species: setosa","Petal.Length: 1.7<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.4<br />Species: setosa<br />Species: setosa","Petal.Length: 1.0<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.7<br />Petal.Width: 0.5<br />Species: setosa<br />Species: setosa","Petal.Length: 1.9<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.6<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.6<br />Petal.Width: 0.4<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.6<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.6<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.4<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.1<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.2<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.3<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.1<br />Species: setosa<br />Species: setosa","Petal.Length: 1.3<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.3<br />Petal.Width: 0.3<br />Species: setosa<br />Species: setosa","Petal.Length: 1.3<br />Petal.Width: 0.3<br />Species: setosa<br />Species: setosa","Petal.Length: 1.3<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.6<br />Petal.Width: 0.6<br />Species: setosa<br />Species: setosa","Petal.Length: 1.9<br />Petal.Width: 0.4<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.3<br />Species: setosa<br />Species: setosa","Petal.Length: 1.6<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.5<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa","Petal.Length: 1.4<br />Petal.Width: 0.2<br />Species: setosa<br />Species: setosa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.7,4.5,4.9,4,4.6,4.5,4.7,3.3,4.6,3.9,3.5,4.2,4,4.7,3.6,4.4,4.5,4.1,4.5,3.9,4.8,4,4.9,4.7,4.3,4.4,4.8,5,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.5,4.7,4.4,4.1,4,4.4,4.6,4,3.3,4.2,4.2,4.2,4.3,3,4.1],"y":[1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3],"text":["Petal.Length: 4.7<br />Petal.Width: 1.4<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.5<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.9<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.0<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.6<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.5<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.7<br />Petal.Width: 1.6<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.3<br />Petal.Width: 1.0<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.6<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.9<br />Petal.Width: 1.4<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.5<br />Petal.Width: 1.0<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.2<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.0<br />Petal.Width: 1.0<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.7<br />Petal.Width: 1.4<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.6<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.4<br />Petal.Width: 1.4<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.5<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.1<br />Petal.Width: 1.0<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.5<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.9<br />Petal.Width: 1.1<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.8<br />Petal.Width: 1.8<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.0<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.9<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.7<br />Petal.Width: 1.2<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.3<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.4<br />Petal.Width: 1.4<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.8<br />Petal.Width: 1.4<br />Species: versicolor<br />Species: versicolor","Petal.Length: 5.0<br />Petal.Width: 1.7<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.5<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.5<br />Petal.Width: 1.0<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.8<br />Petal.Width: 1.1<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.7<br />Petal.Width: 1.0<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.9<br />Petal.Width: 1.2<br />Species: versicolor<br />Species: versicolor","Petal.Length: 5.1<br />Petal.Width: 1.6<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.5<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.5<br />Petal.Width: 1.6<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.7<br />Petal.Width: 1.5<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.4<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.1<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.0<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.4<br />Petal.Width: 1.2<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.6<br />Petal.Width: 1.4<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.0<br />Petal.Width: 1.2<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.3<br />Petal.Width: 1.0<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.2<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.2<br />Petal.Width: 1.2<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.2<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.3<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor","Petal.Length: 3.0<br />Petal.Width: 1.1<br />Species: versicolor<br />Species: versicolor","Petal.Length: 4.1<br />Petal.Width: 1.3<br />Species: versicolor<br />Species: versicolor"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":7.55905511811024,"symbol":"triangle-up","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6,5.1,5.9,5.6,5.8,6.6,4.5,6.3,5.8,6.1,5.1,5.3,5.5,5,5.1,5.3,5.5,6.7,6.9,5,5.7,4.9,6.7,4.9,5.7,6,4.8,4.9,5.6,5.8,6.1,6.4,5.6,5.1,5.6,6.1,5.6,5.5,4.8,5.4,5.6,5.1,5.1,5.9,5.7,5.2,5,5.2,5.4,5.1],"y":[2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8],"text":["Petal.Length: 6.0<br />Petal.Width: 2.5<br />Species: virginica<br />Species: virginica","Petal.Length: 5.1<br />Petal.Width: 1.9<br />Species: virginica<br />Species: virginica","Petal.Length: 5.9<br />Petal.Width: 2.1<br />Species: virginica<br />Species: virginica","Petal.Length: 5.6<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 5.8<br />Petal.Width: 2.2<br />Species: virginica<br />Species: virginica","Petal.Length: 6.6<br />Petal.Width: 2.1<br />Species: virginica<br />Species: virginica","Petal.Length: 4.5<br />Petal.Width: 1.7<br />Species: virginica<br />Species: virginica","Petal.Length: 6.3<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 5.8<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 6.1<br />Petal.Width: 2.5<br />Species: virginica<br />Species: virginica","Petal.Length: 5.1<br />Petal.Width: 2.0<br />Species: virginica<br />Species: virginica","Petal.Length: 5.3<br />Petal.Width: 1.9<br />Species: virginica<br />Species: virginica","Petal.Length: 5.5<br />Petal.Width: 2.1<br />Species: virginica<br />Species: virginica","Petal.Length: 5.0<br />Petal.Width: 2.0<br />Species: virginica<br />Species: virginica","Petal.Length: 5.1<br />Petal.Width: 2.4<br />Species: virginica<br />Species: virginica","Petal.Length: 5.3<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 5.5<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 6.7<br />Petal.Width: 2.2<br />Species: virginica<br />Species: virginica","Petal.Length: 6.9<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 5.0<br />Petal.Width: 1.5<br />Species: virginica<br />Species: virginica","Petal.Length: 5.7<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 4.9<br />Petal.Width: 2.0<br />Species: virginica<br />Species: virginica","Petal.Length: 6.7<br />Petal.Width: 2.0<br />Species: virginica<br />Species: virginica","Petal.Length: 4.9<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 5.7<br />Petal.Width: 2.1<br />Species: virginica<br />Species: virginica","Petal.Length: 6.0<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 4.8<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 4.9<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 5.6<br />Petal.Width: 2.1<br />Species: virginica<br />Species: virginica","Petal.Length: 5.8<br />Petal.Width: 1.6<br />Species: virginica<br />Species: virginica","Petal.Length: 6.1<br />Petal.Width: 1.9<br />Species: virginica<br />Species: virginica","Petal.Length: 6.4<br />Petal.Width: 2.0<br />Species: virginica<br />Species: virginica","Petal.Length: 5.6<br />Petal.Width: 2.2<br />Species: virginica<br />Species: virginica","Petal.Length: 5.1<br />Petal.Width: 1.5<br />Species: virginica<br />Species: virginica","Petal.Length: 5.6<br />Petal.Width: 1.4<br />Species: virginica<br />Species: virginica","Petal.Length: 6.1<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 5.6<br />Petal.Width: 2.4<br />Species: virginica<br />Species: virginica","Petal.Length: 5.5<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 4.8<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica","Petal.Length: 5.4<br />Petal.Width: 2.1<br />Species: virginica<br />Species: virginica","Petal.Length: 5.6<br />Petal.Width: 2.4<br />Species: virginica<br />Species: virginica","Petal.Length: 5.1<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 5.1<br />Petal.Width: 1.9<br />Species: virginica<br />Species: virginica","Petal.Length: 5.9<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 5.7<br />Petal.Width: 2.5<br />Species: virginica<br />Species: virginica","Petal.Length: 5.2<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 5.0<br />Petal.Width: 1.9<br />Species: virginica<br />Species: virginica","Petal.Length: 5.2<br />Petal.Width: 2.0<br />Species: virginica<br />Species: virginica","Petal.Length: 5.4<br />Petal.Width: 2.3<br />Species: virginica<br />Species: virginica","Petal.Length: 5.1<br />Petal.Width: 1.8<br />Species: virginica<br />Species: virginica"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":7.55905511811024,"symbol":"square","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.3059360730594,"r":7.30593607305936,"b":58.3013698630137,"l":68.8219178082192},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[0.705,7.195],"tickmode":"array","ticktext":["2","4","6"],"tickvals":[2,4,6],"categoryorder":"array","categoryarray":["2","4","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":21.041095890411},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"Petal.Length","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":26.3013698630137},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[-0.02,2.62],"tickmode":"array","ticktext":["0.0","0.5","1.0","1.5","2.0","2.5"],"tickvals":[0,0.5,1,1.5,2,2.5],"categoryorder":"array","categoryarray":["0.0","0.5","1.0","1.5","2.0","2.5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":21.041095890411},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"Petal.Width","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":26.3013698630137},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":22.7945205479452},"y":0.86636670416198},"annotations":[{"text":"Species","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":31.5616438356164},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","width":700,"height":450,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"285d75c0aee2":{"x":{},"y":{},"colour":{},"shape":{},"type":"scatter"}},"cur_data":"285d75c0aee2","visdat":{"285d75c0aee2":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>

---

### Add more infos


```r
plotly::ggplotly(
  last_plot() + aes(text = bigstatsr::asPlotlyText(iris)),
  tooltip = "text", width = 700, height = 420)
```

<div id="285d7b60289d" style="width:700px;height:420px;" class="plotly html-widget"></div>
<script type="application/json" data-for="285d7b60289d">{"x":{"data":[{"x":[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.3,1.4,1.3,1.5,1.3,1.3,1.3,1.6,1.9,1.4,1.6,1.4,1.5,1.4],"y":[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.2,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.2,0.1,0.2,0.2,0.3,0.3,0.2,0.6,0.4,0.3,0.2,0.2,0.2,0.2],"text":["Sepal.Length: 5.1<br>Sepal.Width: 3.5<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.9<br>Sepal.Width: 3<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.7<br>Sepal.Width: 3.2<br>Petal.Length: 1.3<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.6<br>Sepal.Width: 3.1<br>Petal.Length: 1.5<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3.6<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.4<br>Sepal.Width: 3.9<br>Petal.Length: 1.7<br>Petal.Width: 0.4<br>Species: setosa","Sepal.Length: 4.6<br>Sepal.Width: 3.4<br>Petal.Length: 1.4<br>Petal.Width: 0.3<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3.4<br>Petal.Length: 1.5<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.4<br>Sepal.Width: 2.9<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.9<br>Sepal.Width: 3.1<br>Petal.Length: 1.5<br>Petal.Width: 0.1<br>Species: setosa","Sepal.Length: 5.4<br>Sepal.Width: 3.7<br>Petal.Length: 1.5<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.8<br>Sepal.Width: 3.4<br>Petal.Length: 1.6<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.8<br>Sepal.Width: 3<br>Petal.Length: 1.4<br>Petal.Width: 0.1<br>Species: setosa","Sepal.Length: 4.3<br>Sepal.Width: 3<br>Petal.Length: 1.1<br>Petal.Width: 0.1<br>Species: setosa","Sepal.Length: 5.8<br>Sepal.Width: 4<br>Petal.Length: 1.2<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.7<br>Sepal.Width: 4.4<br>Petal.Length: 1.5<br>Petal.Width: 0.4<br>Species: setosa","Sepal.Length: 5.4<br>Sepal.Width: 3.9<br>Petal.Length: 1.3<br>Petal.Width: 0.4<br>Species: setosa","Sepal.Length: 5.1<br>Sepal.Width: 3.5<br>Petal.Length: 1.4<br>Petal.Width: 0.3<br>Species: setosa","Sepal.Length: 5.7<br>Sepal.Width: 3.8<br>Petal.Length: 1.7<br>Petal.Width: 0.3<br>Species: setosa","Sepal.Length: 5.1<br>Sepal.Width: 3.8<br>Petal.Length: 1.5<br>Petal.Width: 0.3<br>Species: setosa","Sepal.Length: 5.4<br>Sepal.Width: 3.4<br>Petal.Length: 1.7<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.1<br>Sepal.Width: 3.7<br>Petal.Length: 1.5<br>Petal.Width: 0.4<br>Species: setosa","Sepal.Length: 4.6<br>Sepal.Width: 3.6<br>Petal.Length: 1<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.1<br>Sepal.Width: 3.3<br>Petal.Length: 1.7<br>Petal.Width: 0.5<br>Species: setosa","Sepal.Length: 4.8<br>Sepal.Width: 3.4<br>Petal.Length: 1.9<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3<br>Petal.Length: 1.6<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3.4<br>Petal.Length: 1.6<br>Petal.Width: 0.4<br>Species: setosa","Sepal.Length: 5.2<br>Sepal.Width: 3.5<br>Petal.Length: 1.5<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.2<br>Sepal.Width: 3.4<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.7<br>Sepal.Width: 3.2<br>Petal.Length: 1.6<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.8<br>Sepal.Width: 3.1<br>Petal.Length: 1.6<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.4<br>Sepal.Width: 3.4<br>Petal.Length: 1.5<br>Petal.Width: 0.4<br>Species: setosa","Sepal.Length: 5.2<br>Sepal.Width: 4.1<br>Petal.Length: 1.5<br>Petal.Width: 0.1<br>Species: setosa","Sepal.Length: 5.5<br>Sepal.Width: 4.2<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.9<br>Sepal.Width: 3.1<br>Petal.Length: 1.5<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3.2<br>Petal.Length: 1.2<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.5<br>Sepal.Width: 3.5<br>Petal.Length: 1.3<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.9<br>Sepal.Width: 3.6<br>Petal.Length: 1.4<br>Petal.Width: 0.1<br>Species: setosa","Sepal.Length: 4.4<br>Sepal.Width: 3<br>Petal.Length: 1.3<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.1<br>Sepal.Width: 3.4<br>Petal.Length: 1.5<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3.5<br>Petal.Length: 1.3<br>Petal.Width: 0.3<br>Species: setosa","Sepal.Length: 4.5<br>Sepal.Width: 2.3<br>Petal.Length: 1.3<br>Petal.Width: 0.3<br>Species: setosa","Sepal.Length: 4.4<br>Sepal.Width: 3.2<br>Petal.Length: 1.3<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3.5<br>Petal.Length: 1.6<br>Petal.Width: 0.6<br>Species: setosa","Sepal.Length: 5.1<br>Sepal.Width: 3.8<br>Petal.Length: 1.9<br>Petal.Width: 0.4<br>Species: setosa","Sepal.Length: 4.8<br>Sepal.Width: 3<br>Petal.Length: 1.4<br>Petal.Width: 0.3<br>Species: setosa","Sepal.Length: 5.1<br>Sepal.Width: 3.8<br>Petal.Length: 1.6<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 4.6<br>Sepal.Width: 3.2<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5.3<br>Sepal.Width: 3.7<br>Petal.Length: 1.5<br>Petal.Width: 0.2<br>Species: setosa","Sepal.Length: 5<br>Sepal.Width: 3.3<br>Petal.Length: 1.4<br>Petal.Width: 0.2<br>Species: setosa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.7,4.5,4.9,4,4.6,4.5,4.7,3.3,4.6,3.9,3.5,4.2,4,4.7,3.6,4.4,4.5,4.1,4.5,3.9,4.8,4,4.9,4.7,4.3,4.4,4.8,5,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.5,4.7,4.4,4.1,4,4.4,4.6,4,3.3,4.2,4.2,4.2,4.3,3,4.1],"y":[1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3],"text":["Sepal.Length: 7<br>Sepal.Width: 3.2<br>Petal.Length: 4.7<br>Petal.Width: 1.4<br>Species: versicolor","Sepal.Length: 6.4<br>Sepal.Width: 3.2<br>Petal.Length: 4.5<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 6.9<br>Sepal.Width: 3.1<br>Petal.Length: 4.9<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 5.5<br>Sepal.Width: 2.3<br>Petal.Length: 4<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 6.5<br>Sepal.Width: 2.8<br>Petal.Length: 4.6<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 5.7<br>Sepal.Width: 2.8<br>Petal.Length: 4.5<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 6.3<br>Sepal.Width: 3.3<br>Petal.Length: 4.7<br>Petal.Width: 1.6<br>Species: versicolor","Sepal.Length: 4.9<br>Sepal.Width: 2.4<br>Petal.Length: 3.3<br>Petal.Width: 1<br>Species: versicolor","Sepal.Length: 6.6<br>Sepal.Width: 2.9<br>Petal.Length: 4.6<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 5.2<br>Sepal.Width: 2.7<br>Petal.Length: 3.9<br>Petal.Width: 1.4<br>Species: versicolor","Sepal.Length: 5<br>Sepal.Width: 2<br>Petal.Length: 3.5<br>Petal.Width: 1<br>Species: versicolor","Sepal.Length: 5.9<br>Sepal.Width: 3<br>Petal.Length: 4.2<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 6<br>Sepal.Width: 2.2<br>Petal.Length: 4<br>Petal.Width: 1<br>Species: versicolor","Sepal.Length: 6.1<br>Sepal.Width: 2.9<br>Petal.Length: 4.7<br>Petal.Width: 1.4<br>Species: versicolor","Sepal.Length: 5.6<br>Sepal.Width: 2.9<br>Petal.Length: 3.6<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 6.7<br>Sepal.Width: 3.1<br>Petal.Length: 4.4<br>Petal.Width: 1.4<br>Species: versicolor","Sepal.Length: 5.6<br>Sepal.Width: 3<br>Petal.Length: 4.5<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 5.8<br>Sepal.Width: 2.7<br>Petal.Length: 4.1<br>Petal.Width: 1<br>Species: versicolor","Sepal.Length: 6.2<br>Sepal.Width: 2.2<br>Petal.Length: 4.5<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 5.6<br>Sepal.Width: 2.5<br>Petal.Length: 3.9<br>Petal.Width: 1.1<br>Species: versicolor","Sepal.Length: 5.9<br>Sepal.Width: 3.2<br>Petal.Length: 4.8<br>Petal.Width: 1.8<br>Species: versicolor","Sepal.Length: 6.1<br>Sepal.Width: 2.8<br>Petal.Length: 4<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 6.3<br>Sepal.Width: 2.5<br>Petal.Length: 4.9<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 6.1<br>Sepal.Width: 2.8<br>Petal.Length: 4.7<br>Petal.Width: 1.2<br>Species: versicolor","Sepal.Length: 6.4<br>Sepal.Width: 2.9<br>Petal.Length: 4.3<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 6.6<br>Sepal.Width: 3<br>Petal.Length: 4.4<br>Petal.Width: 1.4<br>Species: versicolor","Sepal.Length: 6.8<br>Sepal.Width: 2.8<br>Petal.Length: 4.8<br>Petal.Width: 1.4<br>Species: versicolor","Sepal.Length: 6.7<br>Sepal.Width: 3<br>Petal.Length: 5<br>Petal.Width: 1.7<br>Species: versicolor","Sepal.Length: 6<br>Sepal.Width: 2.9<br>Petal.Length: 4.5<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 5.7<br>Sepal.Width: 2.6<br>Petal.Length: 3.5<br>Petal.Width: 1<br>Species: versicolor","Sepal.Length: 5.5<br>Sepal.Width: 2.4<br>Petal.Length: 3.8<br>Petal.Width: 1.1<br>Species: versicolor","Sepal.Length: 5.5<br>Sepal.Width: 2.4<br>Petal.Length: 3.7<br>Petal.Width: 1<br>Species: versicolor","Sepal.Length: 5.8<br>Sepal.Width: 2.7<br>Petal.Length: 3.9<br>Petal.Width: 1.2<br>Species: versicolor","Sepal.Length: 6<br>Sepal.Width: 2.7<br>Petal.Length: 5.1<br>Petal.Width: 1.6<br>Species: versicolor","Sepal.Length: 5.4<br>Sepal.Width: 3<br>Petal.Length: 4.5<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 6<br>Sepal.Width: 3.4<br>Petal.Length: 4.5<br>Petal.Width: 1.6<br>Species: versicolor","Sepal.Length: 6.7<br>Sepal.Width: 3.1<br>Petal.Length: 4.7<br>Petal.Width: 1.5<br>Species: versicolor","Sepal.Length: 6.3<br>Sepal.Width: 2.3<br>Petal.Length: 4.4<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 5.6<br>Sepal.Width: 3<br>Petal.Length: 4.1<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 5.5<br>Sepal.Width: 2.5<br>Petal.Length: 4<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 5.5<br>Sepal.Width: 2.6<br>Petal.Length: 4.4<br>Petal.Width: 1.2<br>Species: versicolor","Sepal.Length: 6.1<br>Sepal.Width: 3<br>Petal.Length: 4.6<br>Petal.Width: 1.4<br>Species: versicolor","Sepal.Length: 5.8<br>Sepal.Width: 2.6<br>Petal.Length: 4<br>Petal.Width: 1.2<br>Species: versicolor","Sepal.Length: 5<br>Sepal.Width: 2.3<br>Petal.Length: 3.3<br>Petal.Width: 1<br>Species: versicolor","Sepal.Length: 5.6<br>Sepal.Width: 2.7<br>Petal.Length: 4.2<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 5.7<br>Sepal.Width: 3<br>Petal.Length: 4.2<br>Petal.Width: 1.2<br>Species: versicolor","Sepal.Length: 5.7<br>Sepal.Width: 2.9<br>Petal.Length: 4.2<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 6.2<br>Sepal.Width: 2.9<br>Petal.Length: 4.3<br>Petal.Width: 1.3<br>Species: versicolor","Sepal.Length: 5.1<br>Sepal.Width: 2.5<br>Petal.Length: 3<br>Petal.Width: 1.1<br>Species: versicolor","Sepal.Length: 5.7<br>Sepal.Width: 2.8<br>Petal.Length: 4.1<br>Petal.Width: 1.3<br>Species: versicolor"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":7.55905511811024,"symbol":"triangle-up","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6,5.1,5.9,5.6,5.8,6.6,4.5,6.3,5.8,6.1,5.1,5.3,5.5,5,5.1,5.3,5.5,6.7,6.9,5,5.7,4.9,6.7,4.9,5.7,6,4.8,4.9,5.6,5.8,6.1,6.4,5.6,5.1,5.6,6.1,5.6,5.5,4.8,5.4,5.6,5.1,5.1,5.9,5.7,5.2,5,5.2,5.4,5.1],"y":[2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8],"text":["Sepal.Length: 6.3<br>Sepal.Width: 3.3<br>Petal.Length: 6<br>Petal.Width: 2.5<br>Species: virginica","Sepal.Length: 5.8<br>Sepal.Width: 2.7<br>Petal.Length: 5.1<br>Petal.Width: 1.9<br>Species: virginica","Sepal.Length: 7.1<br>Sepal.Width: 3<br>Petal.Length: 5.9<br>Petal.Width: 2.1<br>Species: virginica","Sepal.Length: 6.3<br>Sepal.Width: 2.9<br>Petal.Length: 5.6<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6.5<br>Sepal.Width: 3<br>Petal.Length: 5.8<br>Petal.Width: 2.2<br>Species: virginica","Sepal.Length: 7.6<br>Sepal.Width: 3<br>Petal.Length: 6.6<br>Petal.Width: 2.1<br>Species: virginica","Sepal.Length: 4.9<br>Sepal.Width: 2.5<br>Petal.Length: 4.5<br>Petal.Width: 1.7<br>Species: virginica","Sepal.Length: 7.3<br>Sepal.Width: 2.9<br>Petal.Length: 6.3<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6.7<br>Sepal.Width: 2.5<br>Petal.Length: 5.8<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 7.2<br>Sepal.Width: 3.6<br>Petal.Length: 6.1<br>Petal.Width: 2.5<br>Species: virginica","Sepal.Length: 6.5<br>Sepal.Width: 3.2<br>Petal.Length: 5.1<br>Petal.Width: 2<br>Species: virginica","Sepal.Length: 6.4<br>Sepal.Width: 2.7<br>Petal.Length: 5.3<br>Petal.Width: 1.9<br>Species: virginica","Sepal.Length: 6.8<br>Sepal.Width: 3<br>Petal.Length: 5.5<br>Petal.Width: 2.1<br>Species: virginica","Sepal.Length: 5.7<br>Sepal.Width: 2.5<br>Petal.Length: 5<br>Petal.Width: 2<br>Species: virginica","Sepal.Length: 5.8<br>Sepal.Width: 2.8<br>Petal.Length: 5.1<br>Petal.Width: 2.4<br>Species: virginica","Sepal.Length: 6.4<br>Sepal.Width: 3.2<br>Petal.Length: 5.3<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 6.5<br>Sepal.Width: 3<br>Petal.Length: 5.5<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 7.7<br>Sepal.Width: 3.8<br>Petal.Length: 6.7<br>Petal.Width: 2.2<br>Species: virginica","Sepal.Length: 7.7<br>Sepal.Width: 2.6<br>Petal.Length: 6.9<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 6<br>Sepal.Width: 2.2<br>Petal.Length: 5<br>Petal.Width: 1.5<br>Species: virginica","Sepal.Length: 6.9<br>Sepal.Width: 3.2<br>Petal.Length: 5.7<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 5.6<br>Sepal.Width: 2.8<br>Petal.Length: 4.9<br>Petal.Width: 2<br>Species: virginica","Sepal.Length: 7.7<br>Sepal.Width: 2.8<br>Petal.Length: 6.7<br>Petal.Width: 2<br>Species: virginica","Sepal.Length: 6.3<br>Sepal.Width: 2.7<br>Petal.Length: 4.9<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6.7<br>Sepal.Width: 3.3<br>Petal.Length: 5.7<br>Petal.Width: 2.1<br>Species: virginica","Sepal.Length: 7.2<br>Sepal.Width: 3.2<br>Petal.Length: 6<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6.2<br>Sepal.Width: 2.8<br>Petal.Length: 4.8<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6.1<br>Sepal.Width: 3<br>Petal.Length: 4.9<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6.4<br>Sepal.Width: 2.8<br>Petal.Length: 5.6<br>Petal.Width: 2.1<br>Species: virginica","Sepal.Length: 7.2<br>Sepal.Width: 3<br>Petal.Length: 5.8<br>Petal.Width: 1.6<br>Species: virginica","Sepal.Length: 7.4<br>Sepal.Width: 2.8<br>Petal.Length: 6.1<br>Petal.Width: 1.9<br>Species: virginica","Sepal.Length: 7.9<br>Sepal.Width: 3.8<br>Petal.Length: 6.4<br>Petal.Width: 2<br>Species: virginica","Sepal.Length: 6.4<br>Sepal.Width: 2.8<br>Petal.Length: 5.6<br>Petal.Width: 2.2<br>Species: virginica","Sepal.Length: 6.3<br>Sepal.Width: 2.8<br>Petal.Length: 5.1<br>Petal.Width: 1.5<br>Species: virginica","Sepal.Length: 6.1<br>Sepal.Width: 2.6<br>Petal.Length: 5.6<br>Petal.Width: 1.4<br>Species: virginica","Sepal.Length: 7.7<br>Sepal.Width: 3<br>Petal.Length: 6.1<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 6.3<br>Sepal.Width: 3.4<br>Petal.Length: 5.6<br>Petal.Width: 2.4<br>Species: virginica","Sepal.Length: 6.4<br>Sepal.Width: 3.1<br>Petal.Length: 5.5<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6<br>Sepal.Width: 3<br>Petal.Length: 4.8<br>Petal.Width: 1.8<br>Species: virginica","Sepal.Length: 6.9<br>Sepal.Width: 3.1<br>Petal.Length: 5.4<br>Petal.Width: 2.1<br>Species: virginica","Sepal.Length: 6.7<br>Sepal.Width: 3.1<br>Petal.Length: 5.6<br>Petal.Width: 2.4<br>Species: virginica","Sepal.Length: 6.9<br>Sepal.Width: 3.1<br>Petal.Length: 5.1<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 5.8<br>Sepal.Width: 2.7<br>Petal.Length: 5.1<br>Petal.Width: 1.9<br>Species: virginica","Sepal.Length: 6.8<br>Sepal.Width: 3.2<br>Petal.Length: 5.9<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 6.7<br>Sepal.Width: 3.3<br>Petal.Length: 5.7<br>Petal.Width: 2.5<br>Species: virginica","Sepal.Length: 6.7<br>Sepal.Width: 3<br>Petal.Length: 5.2<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 6.3<br>Sepal.Width: 2.5<br>Petal.Length: 5<br>Petal.Width: 1.9<br>Species: virginica","Sepal.Length: 6.5<br>Sepal.Width: 3<br>Petal.Length: 5.2<br>Petal.Width: 2<br>Species: virginica","Sepal.Length: 6.2<br>Sepal.Width: 3.4<br>Petal.Length: 5.4<br>Petal.Width: 2.3<br>Species: virginica","Sepal.Length: 5.9<br>Sepal.Width: 3<br>Petal.Length: 5.1<br>Petal.Width: 1.8<br>Species: virginica"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":7.55905511811024,"symbol":"square","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.3059360730594,"r":7.30593607305936,"b":58.3013698630137,"l":68.8219178082192},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[0.705,7.195],"tickmode":"array","ticktext":["2","4","6"],"tickvals":[2,4,6],"categoryorder":"array","categoryarray":["2","4","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":21.041095890411},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"Petal.Length","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":26.3013698630137},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[-0.02,2.62],"tickmode":"array","ticktext":["0.0","0.5","1.0","1.5","2.0","2.5"],"tickvals":[0,0.5,1,1.5,2,2.5],"categoryorder":"array","categoryarray":["0.0","0.5","1.0","1.5","2.0","2.5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":21.041095890411},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"Petal.Width","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":26.3013698630137},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":22.7945205479452},"y":0.86636670416198},"annotations":[{"text":"Species","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":31.5616438356164},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","width":700,"height":420,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"285d29b0e28c":{"text":{},"x":{},"y":{},"colour":{},"shape":{},"type":"scatter"}},"cur_data":"285d29b0e28c","visdat":{"285d29b0e28c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>



---

## Miscellaneous

- [Pie charts](https://guangchuangyu.github.io/2016/12/scatterpie-for-plotting-pies-on-ggplot/) but [others plots are often better](http://annkemery.com/pie-chart-guidelines/)

- [Spatial Visualization](https://cran.r-project.org/web/packages/ggmap/index.html)

- [Heatmaps](http://blog.aicry.com/r-heat-maps-with-ggplot2/)

- [Cookbook for R - Graphs](http://www.cookbook-r.com/Graphs/)

- [Cheatsheet](https://www.rstudio.com/wp-content/uploads/2016/11/ggplot2-cheatsheet-2.1.pdf)

- [Top 50 ggplot2 Visualizations](http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html)

- [Viridis color palette](https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html)

- [An RStudio addin for ggplot2 theme tweaking](https://github.com/calligross/ggthemeassist)

- [Publication Ready Plots](http://www.sthda.com/english/rpkgs/ggpubr/)

- [Extensions](http://www.ggplot2-exts.org/)

---

class: center, middle, inverse

# Problems I've once encountered

---

## Iterate over variables with **aes_string**


```r
var &lt;- names(iris)
p_list &lt;- vector(mode = "list", length = length(var))
for (i in seq_along(var)) {
  p_list[[i]] &lt;- myggplot(iris) + geom_bar(aes_string(var[i]))
}
cowplot::plot_grid(plotlist = p_list[1:4], ncol = 2)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-29-1.svg" width="65%" style="display: block; margin: auto;" /&gt;

---

## Change the limits of your plot

### xlim or coord_cartesian?


```r
myggplot(data.frame(x = 1:10, y = c(1:9, 100) + rnorm(10)), aes(x, y)) + 
  geom_point(cex = 2) + 
  geom_smooth(method = "lm") + 
  xlim(NA, 9.5)
```

```
## Warning: Removed 1 rows containing non-finite values (stat_smooth).
```

```
## Warning: Removed 1 rows containing missing values (geom_point).
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-30-1.svg" width="45%" style="display: block; margin: auto;" /&gt;


---

class: center, middle, inverse

# Two last points from my experience

---

## Why I finally switched to using ggplot2?


```r
library(bigstatsr)
X &lt;- big_attachExtdata()
svd &lt;- big_SVD(X, big_scale(), k = 10)
plot(svd, type = "scores")
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-31-1.svg" width="70%" style="display: block; margin: auto;" /&gt;

---

### An object that the user can modify


```r
pop &lt;- rep(c("POP1", "POP2", "POP3"), c(143, 167, 207))
last_plot() + 
  # add colors
  aes(color = pop) + labs(color = "Population") +
  ## change the place of the legend
  theme(legend.position = c(0.82, 0.17)) + 
  ## change the title and the label of the x-axis
  labs(title = "Yet another title", x = "with a new 'x' label")
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-32-1.svg" width="60%" style="display: block; margin: auto;" /&gt;

---

## How I choose the size of a ggplot?

### (that I export)

- I plot something, e.g.

```
ggplot(iris, aes(Petal.Length, Petal.Width, 
                 color = Species, pch = Species)) + 
  geom_point(cex = 2)
```

- I use the *Zoom* button of RStudio

- I resize the "Plot Zoom" windows till I'm satisfied

- Right-click on this window -&gt; "Open Image"

- Then, I use the dimensions that are displayed at the top in `ggsave()` with `scale = 1/90` (calibrate the value for your computer), e.g. 
```
ggsave("myggplot.png", scale = 1/90, width = 888, height = 725)
```

---

## How I choose the size of a ggplot?

### (in an RMarkdown)

- I always use `out.width` (option of R chunk) 

- I get the height with `fig.asp`

- (for generated plots) I use `fig.width` for the "zoom"

***

You can import figures with `knitr::include_graphics`

---

### out.width = "80%", fig.asp = 0.7


```r
myggplot(iris, aes(Petal.Length, Petal.Width, 
                 color = Species, pch = Species)) + 
  geom_point(cex = 2)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-33-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

### out.width = "80%", fig.asp = 0.7, fig.width = 10


```r
myggplot(iris, aes(Petal.Length, Petal.Width, 
                 color = Species, pch = Species)) + 
  geom_point(cex = 2)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-34-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

### out.width = "80%", fig.asp = 0.7, fig.width = 4


```r
myggplot(iris, aes(Petal.Length, Petal.Width, 
                 color = Species, pch = Species)) + 
  geom_point(cex = 2)
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-35-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

class: center, middle, inverse

# Your turn

---

## Your turn: reproduce this plot

&lt;img src="https://github.com/Cascadia-R/gRadual-intRoduction-tidyverse/raw/master/figure/gap.png" width="100%" style="display: block; margin: auto;" /&gt;

.footnote[Source: https://goo.gl/Tci3pw]

---

## The data


```r
(df &lt;- gapminder::gapminder %&gt;%
   filter(year == 1992))
```

```
## # A tibble: 142 x 6
##        country continent  year lifeExp       pop  gdpPercap
##         &lt;fctr&gt;    &lt;fctr&gt; &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;      &lt;dbl&gt;
##  1 Afghanistan      Asia  1992  41.674  16317921   649.3414
##  2     Albania    Europe  1992  71.581   3326498  2497.4379
##  3     Algeria    Africa  1992  67.744  26298373  5023.2166
##  4      Angola    Africa  1992  40.647   8735988  2627.8457
##  5   Argentina  Americas  1992  71.868  33958947  9308.4187
##  6   Australia   Oceania  1992  77.560  17481977 23424.7668
##  7     Austria    Europe  1992  76.040   7914969 27042.0187
##  8     Bahrain      Asia  1992  72.601    529491 19035.5792
##  9  Bangladesh      Asia  1992  56.018 113704579   837.8102
## 10     Belgium    Europe  1992  76.460  10045622 25575.5707
## # ... with 132 more rows
```

---

### The solution


```r
ggplot(df) + 
  geom_point(aes(log10(gdpPercap), lifeExp, size = pop, 
                 color = continent)) +
  labs(title = "Gapminder for 1992",
       x = "Gross Domestic Product (log scale)",
       y = "Life Expectancy at birth (years)")
```

&lt;img src="ggplot2_files/figure-html/unnamed-chunk-38-1.svg" width="70%" style="display: block; margin: auto;" /&gt;

---

class: center, middle, inverse

# Thanks!

&lt;br&gt;

Presentation available at

https://privefl.github.io/R-presentation/ggplot2.html

&lt;br&gt;

Twitter and GitHub: [@privefl](https://twitter.com/privefl)

.footnote[Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).]
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {window.dispatchEvent(new Event('resize'));});
(function() {var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler"); if (!r) return; s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }"; d.head.appendChild(s);})();</script>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
